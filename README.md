# CS 4240 Tiger Compiler Backend

###### By Sam Mohr, Harish Kamath, and Andrey Lukin

### 1. Design Internals
* Project Structure
    * ```./grammar/```
        * ```Tiger.g4``` contains the grammar used by ANTLR to generate a parse tree of an inputted Tiger program.
    * ```./parser/```
        * ```TigerLexer.java```, ```TigerBaseVisitor.java```, ```TigerParser.java```, and ```TigerVisitor.java``` which is all code generated by ANTLR to allow us to traverse the parse tree.
        * ```SymbolTable.java``` is our implementation of the Symbol Table used to handle scopes and variables.
        *  ```Tuple.java``` our small implementation of a Tuple class to use in the Symbol table.
        *  ```Tiger.java``` is our main program that runs a the Tiger frontend compiler on the input.
    *  ```./phase2_test_code/```
        * Contains ```testing.sh```, a bash script used for testing   
        * Contains different files with test inputs for the IR, Symbol Table, and basic Tiger code.
    * ```codegen```
        * ```intructions```
            * Contains all of the objects for IR to correct register allocation intructions.
            * Used for the structure of the code throughout the project
        * ```LiveRangeGraph, Instruction, ControlFlow, and Codeblock```
            * The necessary files to run the correct register allocation algorithms.
        * ```MIPSGenerator```
            * The file with the algorithm for instruction selection, code generation, and stack initialization.


### 2. How to Build
* For compilation of the Codegen master role, compile all of the Java files in the ```Codegen``` directory.
    * ```javac *.java```
* To run, give the Codegen compiled class a Tiger.ir file
    * ```java Codegen ../phase2_test_code/ir/factorial.ir```

### 3. Run Examples
* ```java Codegen ../phase2_test_code/ir/factorial.ir```
